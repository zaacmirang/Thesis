<template>
  <div class="home">
      <br>
        <br>
        <Navbar />

                      <v-container style="height: 500px">
                            <h1> About us </h1>
                        <v-layout row>
                            <v-col 
                                cols="4"
                            >
                            <v-card 
                                max-width="400"
                            >
                              <v-img
                                 class="white--text align-end"
                                  height="325px"
                                src="https://cdn.vuetifyjs.com/images/cards/docks.jpg"
                              >
                              <v-card-title>Doc. Razel Len Roldan</v-card-title>
                          </v-img>
                              <v-card-text class="text--primary">
                                  <div>Is A young Doctor with 4 Years exprience in private clinics</div>
                                  <div>Graduated in Central Escolar University (CEU)</div>
                              </v-card-text>
                      </v-card>
                     </v-col>
                              <v-col 
                                 cols="4"
                              >
                             <v-card 
                            max-width="400"
                         >
                            <v-img
                               class="white--text align-end"
                               height="325px"
                               src="https://cdn.vuetifyjs.com/images/cards/docks.jpg"
                             >
                              <v-card-title>Doc. Trixia Cervantes</v-card-title>
                            </v-img>
                              <v-card-text class="text--primary">
                                  <div>Is A young Doctor with 4 Years exprience in private clinics</div>
                                  <div>Graduated in Central Escolar University (CEU)</div>
                              </v-card-text>
                      </v-card>
              </v-col>
                        <v-col 
                                 cols="4"
                              >
                             <v-card 
                            max-width="400"
                         >
                            <v-img
                               class="white--text align-end"
                               height="325px"
                               src="https://cdn.vuetifyjs.com/images/cards/docks.jpg"
                             >
                              <v-card-title>Doc. Mylor Guttierez</v-card-title>
                            </v-img>
                              <v-card-text class="text--primary">
                                  <div>Is A young Doctor with 4 Years exprience in private clinics</div>
                                  <div>Graduated in Central Escolar University (CEU)</div>
                              </v-card-text>
                      </v-card>
              </v-col>
        </v-layout>                
  </v-container>
  



  <v-container style="height:650px"> 
      <h1>Procedures</h1>
       <v-layout row>
                            <v-col 
                                cols="4"
                            >
                            <v-card 
                                max-width="400"
                            >
                              <v-img
                                 class="white--text align-end"
                                  height="200px"
                                src="procedures/oral-prophylaxis.png"
                              >
                              <v-card-title>Oral Prophylaxis</v-card-title>
                          </v-img>
                              <v-card-text class="text--primary">
                                  <p>
                                    <b>Oral Prophylaxis</b> is a procedure done for teeth cleaning. It removes tartar and plaque build-up from the surfaces of the teeth
                                  </p>
                              </v-card-text>
                      </v-card>
                     </v-col>
                              <v-col 
                                 cols="4"
                              >
                             <v-card 
                            max-width="400"
                         >
                            <v-img
                               class="white--text align-end"
                               height="200px"
                               src="procedures/flouride-Treatment.jpg"
                             >
                              <v-card-title>Flouride Treatment</v-card-title>
                            </v-img
                        
                            >
                              <v-card-text class="text--primary">
                                  <p><b>Fluoride varnish</b> is a highly concentrated form of fluoride which is applied to the tooth's surface, by a dentist.</p>
                              </v-card-text>
                      </v-card>
              </v-col>
                        <v-col 
                                 cols="4"
                              >
                             <v-card 
                            max-width="400"
                         >
                            <v-img
                               class="white--text align-end"
                               height="200px"
                               src="procedures/pit&fissure.jpg"
                             >
                              <v-card-title>Pit & Fissure Sealant </v-card-title>
                                  </v-img >
                                    <v-card-text class="text--primary">
                                      <p>A <b>Pit</b> is a small depression on the surface of the tooth, whereas <b>Fissures</b> are the grooves that naturally occur on all biting surfaces of teeth.</p>
                              </v-card-text>
                                </v-card>
                      </v-col>
                      
                       <v-col 
                          cols="4"
                       >
                          <v-card 
                              max-width="400"
                          >
                          <v-img
                              class="white--text align-end"
                              height="200px"
                              src="procedures/composite-restoration.jpg"
                          >
                          <v-card-title>Composite Restoration</v-card-title>
                             </v-img>
                                  <v-card-text class="text--primary">
                                      <p>A <b>Composite Filling</b> is a tooth-colored plastic and glass mixture used to restore decayed/carious teeth.</p>
                                  </v-card-text>
                          </v-card>
                        </v-col>
                        <v-col 
                                cols="4"
                            >
                            <v-card 
                                max-width="400"
                            >
                              <v-img
                                 class="white--text align-end"
                                  height="200px"
                                src="procedures/tooth-extraction.jpg"
                              >
                              <v-card-title>Tooth Extraction</v-card-title>
                          </v-img>
                              <v-card-text class="text--primary">
                                  <p>An <b>Extraction</b> means to have a tooth removed, usually because of disease, trauma or crowding.</p>
                              </v-card-text>
                      </v-card>
                     </v-col>
                        <v-col 
                                cols="4"
                            >
                            <v-card 
                                max-width="400"
                            >
                              <v-img
                                 class="white--text align-end"
                                  height="200px"
                                src="procedures/root-canal.jpg"
                              >
                              <v-card-title>Root Canal</v-card-title>
                          </v-img>
                              <v-card-text class="text--primary">
                                 <p>A <b>Root Canal </b> is a dental procedure involving the removal of the soft center of the tooth, the pulp. </p>
                              </v-card-text>
                      </v-card>
                     </v-col>
                 </v-layout>     
              </v-container>
  <br>
  <br>
  <br>
    
    <v-container style="height: 750px">
           <h1>Book Now </h1>

                <v-form>
                  <v-text-field 
                      v-model="bookingdata.fname"
                      value="fname"
                      :counter = "15"
                      :aria-errormessage="Error"
                      label = "First Name"
                      required
                      :rules="[rules.required]"
                      
                  >
                  </v-text-field>

                  <v-text-field 

                      v-model="bookingdata.lname"
                      value="lname"
                      :counter = "15"
                      :aria-errormessage="Error"
                      label = "Last Name"
                      required
                      :rules="[rules.required]"
                     
                  >
                  </v-text-field> 
                  <v-text-field 
                      v-model="bookingdata.email"
                      value="email"
                      :counter = "30"
                      :aria-errormessage="Error"
                      label = "Email Address"
                      required
                     :rules="[rules.required]"
                      
                  >
                  </v-text-field>
                  <v-text-field 

                      v-model="bookingdata.contact"
                      value="contact"
                      :counter = "15"
                      :aria-errormessage="Error"
                      label = "Contact Number"
                      required
                      :rules="[rules.required]"
                      
                  >
                 </v-text-field>
                 <v-select                       
                           v-model="bookingdata.branches_id"
                          :items="branch"
                          label= "Clinic Branch"
                          single-line
                          item-text="name"
                          item-value = "id"
                          :rules="[rules.required]"
                      >
                  </v-select>
              
                    <v-select 
                          v-model="bookingdata.doctors_id"
                          :items="doctors"
                          label= "Doctors"
                          item-text = "name"
                          item-value = "id"
                          :rules="[rules.required]"
                    >
                    </v-select>
                    <v-select   
                          v-model="bookingdata.services_id"
                          :items="services"
                          label= "Procedures"
                          item-text = "name"
                          item-value = "id"
                          :rules="[rules.required]"
                          
                    >
                    </v-select>
                    <!-- <v-menu 
                        v-model="date"
                        :close-on-content-click="false"
                         min-width="100"
                         :rules="[rules.required]"
                >
                <template v-slot:activator="{ on, attrs }">
                    <v-text-field 
                          v-model="date"
                          :value="Date"
                          label="Date"
                          v-bind="attrs"
                          v-on="on"
                          @click:clear="date = null"
                          :rules="[rules.required]"
                    ></v-text-field>
                </template>

                      <v-date-picker
                           v-model="date"
                           ></v-date-picker>
                      </v-menu> -->
                <v-menu
                  v-model="menu1"
                  transition="scale-transition"
                  offset-y
                  max-width="290px"
                  min-width="auto"
                >
                  <template v-slot:activator="{ on, attrs }">
                    <v-text-field
                      v-model="date"
                      label="Date"
                      v-bind="attrs"
                      readonly
                      v-on="on"
                    ></v-text-field>
                  </template>
                  <v-date-picker
                    v-model="date"
                    no-title
                    @input="menu1 = false"
                  ></v-date-picker>
                </v-menu>

                <v-menu
                  ref="menu"
                  v-model="menu2"
                  :close-on-content-click="false"
                  :nudge-right="40"
                  :return-value.sync="time"
                  transition="scale-transition"
                  offset-y
                  max-width="290px"
                  min-width="290px"
                >
                  <template v-slot:activator="{ on, attrs }">
                    <v-text-field
                      v-model="time"
                      label="Picker in menu"
                      readonly
                      v-bind="attrs"
                      v-on="on"
                    ></v-text-field>
                  </template>
                  <v-time-picker
                    v-if="menu2"
                    v-model="time"
                    full-width
                    @click:minute="$refs.menu.save(time)"
                  ></v-time-picker>
                </v-menu>

                    <!-- <v-menu
                          ref="menu2"
                          v-model="menu2"
                          :close-on-content-click="false"
                          :nudge-right="40"
                          transition="scale-transition"
                          offset-y
                          max-width="290px"
                          min-width="290px"
                    >
                   <template v-slot:activator="{ on, attrs }">
                        <v-text-field
                              v-model="time"
                              label="Select Time"
                              readonly
                              v-bind="attrs"
                              v-on="on"
                              :rules="[rules.required]"
                        ></v-text-field>
                   </template>
                   <v-time-picker
                           v-model="time"
                    ></v-time-picker>

                    </v-menu> -->
                        <v-btn
                           elevation="2"
                           outlined
                           color="green"
                           @click="booking"
                        >Book Now</v-btn>
                      </v-form>
<br>
<br>
            
        </v-container>

                          <v-container style="height: 300px">
                                <h1>Contact Us</h1>
                          </v-container>
  </div>
  
</template>

<script>
import Navbar from '@/components/Navbar.vue'
import axios from "axios" 

// @ is an alias to /src

export default {
    data:() => ({
      select: '',
        items: [ ],
        services:[{}],
        branch:[ ],
        selectedService: " ",
        Error: '',
//      
        menu2: false,
        menu1: false,
        time: '',
        date: '',
        doctors: [],
        bookingdata: {
            fname: ' ',
            lname: ' ',
            email: ' ',
            contact: ' ',
            branches_id: ' ',
            doctors_id: ' ',
            services_id: ' ',
            date :' ',
            time:    ' ',
         },
         rules: {
           required: value => !!value || 'Required.',
         }    
    })
  ,created(){
      this.service();
      this.doctor();
      this.branches();
  }
    ,name: 'Home',
    components: {
    Navbar,
  },
  
 
 methods: {
   booking(){
          // this.bookingdata.fname        = this.fname;
          // this.bookingdata.lname        = this.lname;
          // this.bookingdata.email        = this.email;
          // this.bookingdata.contact      = this.contact;
          // this.bookingdata.branches_id  = this.clinicBranch;
          // this.bookingdata.doctors_id   = this.doctors;
          // this.bookingdata.services_id  = this.selectedServices;  
          // this.bookingdata.date         = this.date;
          // this.bookingdata.time         = this.time;   
          
          axios.post('http://localhost/Dentalthesis/public/api/BookAppointment',this.bookingdata).then((response) => {
            console.log(response.data)
            alert('Your Schedule request Sent! Wait for the Clinic SMS Confirmation..')
            
          }).catch(e => {
            console.log(e.message)
          })
        }
        //     ,postsubmit(){
        //       axios.post('http://localhost/Dentalthesis/public/api/BookAppointment', this.bookingdata)
        //     .then(response => {console.log(response)})     
        // }

      ,service() {
        axios.get ('http://localhost/Dentalthesis/public/api/Services')
        .then((response) => { this.services = response.data.data});
      }
  
      ,doctor() {
        axios.get ('http://localhost/Dentalthesis/public/api/Doctors')
        .then((response) => {this.doctors = response.data.data});
      }
      ,branches() {
        axios.get ('http://localhost/Dentalthesis/public/api/Branches')
        .then((response) => { this.branch = response.data.data});
      },
    
    },
  }

</script>
<style scoped>
  .v-text-field {
    width: 50%;
  }
</style>